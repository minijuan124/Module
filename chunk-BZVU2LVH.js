import{Db as e,M as a,P as o,d as n,ga as u}from"./chunk-5LRHJ6Z6.js";var l=class s{constructor(t){this.platformId=t}authenticated=!1;current=null;dummyAdmin={username:"admin",password:"Admin1234",roles:["ADMIN"]};dummyUser={username:"demo",password:"Demo1234",roles:["USER"]};currentUser(){if(this.current)return this.current;if(!e(this.platformId))return null;let t=localStorage.getItem("user");return t?(this.current=JSON.parse(t),this.current):null}login(t,r){return n(this,null,function*(){return new Promise(i=>{setTimeout(()=>{t===this.dummyAdmin.username&&r===this.dummyAdmin.password?(this.authenticated=!0,this.current={username:t,roles:this.dummyAdmin.roles},e(this.platformId)&&localStorage.setItem("user",JSON.stringify(this.current)),i(!0)):t===this.dummyUser.username&&r===this.dummyUser.password?(this.authenticated=!0,this.current={username:t,roles:this.dummyUser.roles},e(this.platformId)&&localStorage.setItem("user",JSON.stringify(this.current)),i(!0)):(this.authenticated=!1,this.current=null,e(this.platformId)&&localStorage.removeItem("user"),i(!1))},800)})})}logout(){this.authenticated=!1,this.current=null,e(this.platformId)&&localStorage.removeItem("user")}isAuthenticated(){return this.authenticated}static \u0275fac=function(r){return new(r||s)(o(u))};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
